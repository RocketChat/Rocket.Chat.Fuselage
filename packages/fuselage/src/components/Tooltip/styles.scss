@use '../../styles/values.scss';

@mixin triangle-direction($direction) {
  &::after {
    position: absolute;

    box-sizing: border-box;

    content: ' ';

    border-width: values.border-width(4) + values.border-width(1);
    border-color: transparent transparent $tooltip-background-color $tooltip-background-color;
    border-radius:
      values.border-radius(none)
      values.border-radius(none)
      values.border-radius(none)
      (values.border-radius(2) + to-rem(1));

    @if $direction == 'up' {
      top: to-rem(-4);

      transform: rotate(135deg);
    }
    @if $direction == 'down' {
      bottom: to-rem(-4);

      transform: rotate(-45deg);
    }
    @if $direction == 'left' {
      top: 50%;
      left: to-rem(-4);

      margin-block-start: values.margin(-4);

      transform: rotate(45deg);
    }
    @if $direction == 'right' {
      top: 50%;
      right: to-rem(-4);

      margin-block-start: values.margin(-4);

      transform: rotate(-135deg);
    }
  }
}

.rcx-tooltip {
  position: relative;

  display: inline-block;

  max-width: values.size(240);

  padding:
    values.padding(8)
    values.padding(12);

  word-break: break-all;

  color: $tooltip-text-color;

  border-radius: values.border-radius(4);

  background-color: $tooltip-background-color;

  @include use-text-style(p2);

  &--dir-up {
    @include triangle-direction('up');
  }

  &--dir-down {
    @include triangle-direction('down');
  }

  &--dir-left {
    @include triangle-direction('left');
  }

  &--dir-right {
    @include triangle-direction('right');
  }

  &--pos {
    &-center {
      &::after {
        left: 50%;

        margin-inline-start: values.margin(-4);
      }
    }

    &-left {
      &::after {
        left: to-rem(8);

        margin: 0;
      }
    }

    &-right {
      &::after {
        right: to-rem(8);
        left: initial;

        margin: 0;
      }
    }
  }
}
