import { action } from '@storybook/addon-actions';
import { Meta, Props, Preview, Story } from '@storybook/addon-docs/blocks';

import { PropsVariationSection } from '../../../.storybook/helpers';
import { InputControl } from '../..';

<Meta title='Forms|InputControl' />

# InputControl

This is a generic component for rendering `input`, `textarea`, and `select` elements.

The `type` prop defines which element will be rendered, e.g. `<InputControl type='textarea' />` will render a `textarea`
element. Besides `'textarea'` and `'select'`, every value else will render `input` element with the `type` attribute
set.

<Preview>
  <Story name='Default'>
    <InputControl onChange={action('change')} />
  </Story>
</Preview>

<Props of={InputControl} />

## Undecorated

Sometimes an `InputControl` is used in composition with another components, therefore the `undecorated` prop declares
if the borders should be removed.

<Preview>
  <Story name='Undecorated'>
    <InputControl undecorated onChange={action('change')} />
  </Story>
</Preview>


## States

### `type='input'`

<Story name='States Of Input Type'>
  <PropsVariationSection
    component={InputControl}
    common={{ onChange: action('change') }}
    xAxis={{
      default: {},
      'with placeholder': { placeholder: 'Placeholder' },
      'with value': { value: 'Value' },
      undecorated: { undecorated: true, value: 'Value' },
    }}
    yAxis={{
      default: {},
      hover: { className: 'hover' },
      active: { className: 'active' },
      focus: { className: 'focus' },
      disabled: { disabled: true },
      invalid: { error: 'Error' },
      'invalid + hover': { className: 'invalid hover' },
      'invalid + active': { className: 'invalid active' },
      'invalid + focus': { className: 'invalid focus' },
    }}
  />
</Story>

### `type='textarea'`

<Story name='States Of TextArea Type'>
  <PropsVariationSection
    component={InputControl}
    common={{ type: 'textarea', onChange: action('change') }}
    xAxis={{
      default: {},
      'with placeholder': { placeholder: 'Placeholder' },
      'with value': { value: 'Value' },
      undecorated: { undecorated: true, value: 'Value' },
    }}
    yAxis={{
      default: {},
      hover: { className: 'hover' },
      active: { className: 'active' },
      focus: { className: 'focus' },
      disabled: { disabled: true },
      invalid: { error: 'Error' },
      'invalid + hover': { className: 'invalid hover' },
      'invalid + active': { className: 'invalid active' },
      'invalid + focus': { className: 'invalid focus' },
    }}
  />
</Story>

### `type='select'`

<Story name='States Of Select Type'>
  <PropsVariationSection
    component={InputControl}
    common={{
      children: <>
        <option value='a'>Item A</option>
        <option value='b'>Item B</option>
        <option value='c'>Item C</option>
      </>,
      type: 'select',
      onChange: action('change')
    }}
    xAxis={{
      default: {},
      'with value': { value: 'b' },
      undecorated: { undecorated: true, value: 'c' },
    }}
    yAxis={{
      default: {},
      hover: { className: 'hover' },
      active: { className: 'active' },
      focus: { className: 'focus' },
      disabled: { disabled: true },
      invalid: { error: 'Error' },
      'invalid + hover': { className: 'invalid hover' },
      'invalid + active': { className: 'invalid active' },
      'invalid + focus': { className: 'invalid focus' },
    }}
  />
</Story>
