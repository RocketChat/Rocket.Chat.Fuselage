import { action } from '@storybook/addon-actions';
import { Meta, Canvas, Story } from '@storybook/addon-docs/blocks';

import { kitContext, UiKitMessage } from '.';

<Meta
  title='UiKit/UiKitMessage'
  parameters={{
    jest: ['UiKitMessage/spec'],
  }}
  argTypes={{
    payload: { control: 'object' },
  }}
  decorators={[
    (storyFn) => (
      <kitContext.Provider
        value={{
          action: action('action'),
          state: action('state'),
          appId: 'core',
          errors: {},
        }}
      >
        {storyFn()}
      </kitContext.Provider>
    ),
  ]}
/>

# UI Kit Message

<Canvas>
  <Story
    name='Section Standard'
    args={{
      payload: [
        {
          type: 'section',
          text: {
            type: 'mrkdwn',
            text: 'I am an item',
          },
        },
      ],
    }}
  >
    {({ payload }) => UiKitMessage(payload)}
  </Story>
</Canvas>

<Canvas>
  <Story
    name='Section Fields'
    args={{
      payload: [
        {
          type: 'section',
          fields: [
            {
              type: 'plain_text',
              text: 'field 1',
              emoji: true,
            },
            {
              type: 'plain_text',
              text: 'field 2',
              emoji: true,
            },
            {
              type: 'plain_text',
              text: 'field 3',
              emoji: true,
            },
            {
              type: 'plain_text',
              text: 'field 4',
              emoji: true,
            },
            {
              type: 'plain_text',
              text: 'field 5',
              emoji: true,
            },
          ],
        },
      ],
    }}
  >
    {({ payload }) => UiKitMessage(payload)}
  </Story>
</Canvas>

<Canvas>
  <Story
    name='Divider'
    args={{
      payload: [
        {
          type: 'divider',
        },
      ],
    }}
  >
    {({ payload }) => UiKitMessage(payload)}
  </Story>
</Canvas>

<Canvas>
  <Story
    name='Context Standard'
    args={{
      payload: [
        {
          type: 'context',
          elements: [
            {
              type: 'mrkdwn',
              text: 'I am an item',
            },
          ],
        },
      ],
    }}
  >
    {({ payload }) => UiKitMessage(payload)}
  </Story>
</Canvas>

<Canvas>
  <Story
    name='Context Standard + icon'
    args={{
      payload: [
        {
          type: 'context',
          elements: [
            {
              type: 'image',
              title: {
                type: 'plain_text',
                text: 'Example Image',
                emoji: true,
              },
              imageUrl:
                'https://raw.githubusercontent.com/RocketChat/Rocket.Chat.Artwork/master/Logos/icon-circle-256.png',
              altText: 'Example Image',
            },
            {
              type: 'mrkdwn',
              text: 'I am an item',
            },
          ],
        },
      ],
    }}
  >
    {({ payload }) => UiKitMessage(payload)}
  </Story>
</Canvas>

<Canvas>
  <Story
    name='Section + image'
    args={{
      payload: [
        {
          type: 'section',
          text: {
            type: 'mrkdwn',
            text: 'Section + Image',
          },
          accessory: {
            type: 'image',
            imageUrl:
              'https://raw.githubusercontent.com/RocketChat/Rocket.Chat.Artwork/master/Logos/icon-circle-256.png',
            altText: 'plants',
          },
        },
      ],
    }}
  >
    {({ payload }) => UiKitMessage(payload)}
  </Story>
</Canvas>

<Canvas>
  <Story
    name='Section + button'
    args={{
      payload: [
        {
          type: 'section',
          text: {
            type: 'mrkdwn',
            text: 'Section + button',
          },
          accessory: {
            type: 'button',
            text: {
              type: 'mrkdwn',
              text: 'button',
            },
          },
        },
      ],
    }}
  >
    {({ payload }) => UiKitMessage(payload)}
  </Story>
</Canvas>

<Canvas>
  <Story
    name='Section + overflow'
    args={{
      payload: [
        {
          type: 'section',
          text: {
            type: 'mrkdwn',
            text: 'This block has an overflow menu.',
          },
          accessory: {
            type: 'overflow',
            options: [
              {
                text: {
                  type: 'plain_text',
                  text: 'Option 1',
                  emoji: true,
                },
                value: 'value-0',
              },
              {
                text: {
                  type: 'plain_text',
                  text: 'Option 2',
                  emoji: true,
                },
                value: 'value-1',
              },
              {
                text: {
                  type: 'plain_text',
                  text: 'Option 3',
                  emoji: true,
                },
                value: 'value-2',
              },
              {
                text: {
                  type: 'plain_text',
                  text: 'Option 4',
                  emoji: true,
                },
                value: 'value-3',
              },
            ],
          },
        },
      ],
    }}
  >
    {({ payload }) => UiKitMessage(payload)}
  </Story>
</Canvas>

<Canvas>
  <Story
    name='Section + Select'
    args={{
      payload: [
        {
          type: 'section',
          text: {
            type: 'mrkdwn',
            text: 'Section + select',
          },
          accessory: {
            type: 'static_select',
            options: [
              {
                value: 1,
                text: {
                  type: 'mrkdwn',
                  text: 'button',
                },
              },
              {
                value: 2,
                text: {
                  type: 'mrkdwn',
                  text: 'second button',
                },
              },
            ],
          },
        },
      ],
    }}
  >
    {({ payload }) => UiKitMessage(payload)}
  </Story>
</Canvas>

<Canvas>
  <Story
    name='Section + Multi Select'
    args={{
      payload: [
        {
          type: 'section',
          text: {
            type: 'mrkdwn',
            text: 'Section + select',
          },
          accessory: {
            type: 'multi_static_select',
            options: [
              {
                text: {
                  type: 'mrkdwn',
                  text: 'button',
                },
                value: 1,
              },
              {
                text: {
                  type: 'mrkdwn',
                  text: 'opt 1',
                },
                value: 2,
              },
              {
                text: {
                  type: 'mrkdwn',
                  text: 'opt 2',
                },
                value: 3,
              },
              {
                text: {
                  type: 'mrkdwn',
                  text: 'opt 3',
                },
                value: 4,
              },
            ],
          },
        },
      ],
    }}
  >
    {({ payload }) => UiKitMessage(payload)}
  </Story>
</Canvas>

<Canvas>
  <Story
    name='Image'
    args={{
      payload: [
        {
          type: 'image',
          title: {
            type: 'plain_text',
            text: 'Example Image',
            emoji: true,
          },
          imageUrl:
            'https://raw.githubusercontent.com/RocketChat/Rocket.Chat.Artwork/master/Logos/icon-circle-256.png',
          altText: 'Example Image',
        },
      ],
    }}
  >
    {({ payload }) => UiKitMessage(payload)}
  </Story>
</Canvas>

<Canvas>
  <Story
    name='Action - Buttons'
    args={{
      payload: [
        {
          type: 'actions',
          elements: [
            {
              type: 'button',
              text: {
                type: 'plain_text',
                emoji: true,
                text: 'Approve',
              },
              style: 'primary',
              value: 'click_me_123',
            },
            {
              type: 'button',
              text: {
                type: 'plain_text',
                emoji: true,
                text: 'Deny',
              },
              style: 'danger',
              value: 'click_me_123',
            },
          ],
        },
      ],
    }}
  >
    {({ payload }) => UiKitMessage(payload)}
  </Story>
</Canvas>

<Canvas>
  <Story
    name='Fields'
    args={{
      payload: [
        {
          type: 'section',
          fields: [
            {
              type: 'plain_text',
              text: '*this is plain_text text*',
              emoji: true,
            },
            {
              type: 'plain_text',
              text: '*this is plain_text text*',
              emoji: true,
            },
            {
              type: 'plain_text',
              text: '*this is plain_text text*',
              emoji: true,
            },
            {
              type: 'plain_text',
              text: '*this is plain_text text*',
              emoji: true,
            },
            {
              type: 'plain_text',
              text: '*this is plain_text text*',
              emoji: true,
            },
          ],
        },
      ],
    }}
  >
    {({ payload }) => UiKitMessage(payload)}
  </Story>
</Canvas>

<Canvas>
  <Story
    name='Action - Select'
    args={{
      payload: [
        {
          type: 'actions',
          elements: [
            {
              type: 'conversations_select',
              placeholder: {
                type: 'plain_text',
                text: 'Select a conversation',
                emoji: true,
              },
            },
            {
              type: 'channels_select',
              placeholder: {
                type: 'plain_text',
                text: 'Select a channel',
                emoji: true,
              },
            },
            {
              type: 'users_select',
              placeholder: {
                type: 'plain_text',
                text: 'Select a user',
                emoji: true,
              },
            },
            {
              type: 'static_select',
              placeholder: {
                type: 'plain_text',
                text: 'Select an item',
                emoji: true,
              },
              options: [
                {
                  text: {
                    type: 'plain_text',
                    text: 'Excellent item 1',
                    emoji: true,
                  },
                  value: 'value-0',
                },
                {
                  text: {
                    type: 'plain_text',
                    text: 'Fantastic item 2',
                    emoji: true,
                  },
                  value: 'value-1',
                },
                {
                  text: {
                    type: 'plain_text',
                    text: 'Nifty item 3',
                    emoji: true,
                  },
                  value: 'value-2',
                },
                {
                  text: {
                    type: 'plain_text',
                    text: 'Pretty good item 4',
                    emoji: true,
                  },
                  value: 'value-3',
                },
              ],
            },
          ],
        },
      ],
    }}
  >
    {({ payload }) => UiKitMessage(payload)}
  </Story>
</Canvas>
